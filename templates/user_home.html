<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>User's Home Page</title>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <style>
        audio {
            width: 100%;
            position: fixed;
            bottom: 0;
            background-color: white;
            padding: 10px;
            border-top: 2px solid lightgreen;
        }

        audio::-webkit-media-controls-play-button
        {            
            color: #00FF00;
        }

        body{
            padding-bottom: 50px;
        }
    </style>
</head>
<body>

{% include 'user_nav.html' %}

<div class="container mt-4">
    <!-- First Row -->
    <div class="row bg-gray">
        <div class="col-md-6">
            <h1>Hi, {{username}}</h1>
            <h2>Recommended Tracks</h2>
        </div>
        <div class="col-md-6 text-right">
            <button class="btn btn-success">Show More</button>
        </div>
    </div>

    <!-- Second Row - Single Card with Horizontal Scroll -->
    <div class="row mt-3 bg-gray">
        <div class="col-md-12">
            <div class="card" style="overflow-x: auto;">
                <div class="card-body overflow-auto">
                    <div class="card-deck d-flex flex-nowrap">
                        <!-- Start of Recommended Tracks -->
                        {% for song in songs %}
                        <div class="card" style="width: 18rem;">
                            <div class="card-body">
                                <h5 class="card-title">{{song.name.title()}}</h5>
                                <button type="button" class="btn btn-link btn-primary" style="color:white" data-bs-toggle="modal" data-bs-target="#{{song.id}}Modal">Read Lyrics</button>
                                <button type="button" class="btn btn-link btn-success" style="color:white" onclick="playAudio('{{ song.location }}')">Play</button>
                                    {% include 'songLyricModal.html' %}
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Third Row - Your Playlist Section -->
    <div class="row mt-4 bg-gray">
        <div class="col-md-6">
            <h2>Your Playlist</h2>
        </div>
        <div class="col-md-6 text-right">
            <button class="btn btn-success">Create new playlists</button>
        </div>
    </div>

    <!-- Your Playlist Cards -->
    <div class="row mt-3">
        <div class="col-md-12">
            <div class="card" style="width: 100%;">
                <div class="card-body">
                    <div class="card-deck">
                        <!-- Playlist Card 1 -->
                        <div class="card" style="width: 18rem;">
                            <div class="card-body">
                                <h5 class="card-title">Playlist 1</h5>
                                <button class="btn btn-primary">View Tracks</button>
                            </div>
                        </div>
                        <!-- Add more playlist cards as needed -->

                        <!-- Playlist Card 2 -->
                        <div class="card" style="width: 18rem;">
                            <div class="card-body">
                                <h5 class="card-title">Playlist 2</h5>
                                <button class="btn btn-primary">View Tracks</button>
                            </div>
                        </div>
                        <!-- Add more playlist cards as needed -->

                        <!-- Playlist Card 3 -->
                        <div class="card" style="width: 18rem;">
                            <div class="card-body">
                                <h5 class="card-title">Playlist 3</h5>
                                <button class="btn btn-primary">View Tracks</button>
                            </div>
                        </div>
                        <!-- Add more playlist cards as needed -->

                        <!-- Playlist Card 4 -->
                        <div class="card" style="width: 18rem;">
                            <div class="card-body">
                                <h5 class="card-title">Playlist 4</h5>
                                <button class="btn btn-primary">View Tracks</button>
                            </div>
                        </div>
                        <!-- Add more playlist cards as needed -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Fourth Row - Genre1 Section -->
    <div class="row mt-4 bg-gray">
        <div class="col-md-6">
            <h2>Genre1</h2>
        </div>
    </div>

    <!-- Genre1 Cards -->
    <div class="row mt-3">
        <div class="col-md-12">
            <div class="card">
                <div class="card-body">
                    <div class="card-deck">
                        <!-- Genre1 Card 1 -->
                        <div class="card" style="width: 18rem;">
                            <div class="card-body">
                                <h5 class="card-title">Song A</h5>
                                <button class="btn btn-primary">Read Lyrics</button>
                            </div>
                        </div>
                        <!-- Add more Genre1 cards as needed -->

                        <!-- Genre1 Card 2 -->
                        <div class="card" style="width: 18rem;">
                            <div class="card-body">
                                <h5 class="card-title">Song B</h5>
                                <button class="btn btn-primary">Read Lyrics</button>
                            </div>
                        </div>
                        <!-- Add more Genre1 cards as needed -->

                        <!-- Genre1 Card 3 -->
                        <div class="card" style="width: 18rem;">
                            <div class="card-body">
                                <h5 class="card-title">Song C</h5>
                                <button class="btn btn-primary">Read Lyrics</button>
                            </div>
                        </div>
                        <!-- Add more Genre1 cards as needed -->

                        <!-- Genre1 Card 4 -->
                        <div class="card" style="width: 18rem;">
                            <div class="card-body">
                                <h5 class="card-title">Song D</h5>
                                <button class="btn btn-primary">Read Lyrics</button>
                            </div>
                        </div>
                        <!-- Add more Genre1 cards as needed -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Fourth Row - Additional Content -->
    <div class="row mt-3">
        <div class="col-md-12">
            <!-- Add more content as needed -->
        </div>
    </div>
</div>
<audio controls id="audioPlayer">
    <source  src="" type="audio/mp3">
    Your browser does not support the audio element.
</audio>
<!-- Bootstrap JS -->
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
<script>
    function playAudio(filename) {
        var audioPlayer = document.getElementById('audioPlayer');
        var staticPath = "{{ url_for('static', filename='songs/') }}";  // Assuming Flask app with a route named 'static'
        audioPlayer.src = staticPath + filename;
        audioPlayer.play();
    }
</script>
</body>
</html>
